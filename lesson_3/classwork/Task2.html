<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Task 2</title>
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/style.css" />
</head>

<body>
	<div class="wrap" id="wrap">
		<header>
			<button id="HouseButton">House</button>
			<button id="TreeButton">Tree</button>
			<button id="PlaneButton">Plane</button>
		</header>
		<div id="chooseYourBlock">

		</div>
		<div id="result">

		</div>
	</div>
	<script>
		/*
			Задание:

			По нажатию на кнопку, в блок с id chooseYourBlock выводить иконку с нажатой кнопки:

			House:  https://image.flaticon.com/icons/svg/149/149064.svg
			Tree: https://image.flaticon.com/icons/svg/620/620705.svg
			Plane: https://image.flaticon.com/icons/svg/579/579268.svg

			Под иконкой расположить еще одну кнопку, по нажатию на которую из соответствующего массива
			подтягивается случайная картинка с изображением в блок result.
			Предыдущий результат очищается.

			var houseArray = [
			"https://static.pexels.com/photos/106399/pexels-photo-106399.jpeg",
			"https://i.pinimg.com/736x/7f/be/50/7fbe50ec634c65709d7fe6ac267c4e6f--large-garage-plans-house-plans-large-family.jpg",
			"https://i.ytimg.com/vi/Xx6t0gmQ_Tw/maxresdefault.jpg"
		];
			var planeArray = [
			"http://www.x-plane.com/wp-content/uploads/2014/08/B777-200ER.png",
			"https://media.cntraveler.com/photos/57067c1e9adc6caf5afe3f4c/master/pass/plane-landing-cr-getty-sb10062851ai-001.jpg",
			"https://media.wired.com/photos/59323264a31264584499367f/master/w_1024,c_limit/diesel-plane-inline.jpg"
		];
		var treeArray = [
			"https://static.pexels.com/photos/56875/tree-dawn-nature-bucovina-56875.jpeg",
			"https://c1.staticflickr.com/8/7218/7184786016_1ddab461e8_b.jpg",
			"http://www.atzmut.com/wp-content/uploads/2016/01/tree.jpg"
		];

		*/

		const firstButtons = document.querySelectorAll("header button");
		const result = document.getElementById("result");

		const houseImage = "https://image.flaticon.com/icons/svg/149/149064.svg";
		const treeImage = "https://image.flaticon.com/icons/svg/620/620705.svg";
		const planeImage = "https://image.flaticon.com/icons/svg/579/579268.svg";

		const houseArray = [
			"https://static.pexels.com/photos/106399/pexels-photo-106399.jpeg",
			"https://i.pinimg.com/736x/7f/be/50/7fbe50ec634c65709d7fe6ac267c4e6f--large-garage-plans-house-plans-large-family.jpg",
			"https://i.ytimg.com/vi/Xx6t0gmQ_Tw/maxresdefault.jpg"
		];
		const planeArray = [
			"http://www.x-plane.com/wp-content/uploads/2014/08/B777-200ER.png",
			"https://media.cntraveler.com/photos/57067c1e9adc6caf5afe3f4c/master/pass/plane-landing-cr-getty-sb10062851ai-001.jpg",
			"https://media.wired.com/photos/59323264a31264584499367f/master/w_1024,c_limit/diesel-plane-inline.jpg"
		];
		const treeArray = [
			"https://static.pexels.com/photos/56875/tree-dawn-nature-bucovina-56875.jpeg",
			"https://c1.staticflickr.com/8/7218/7184786016_1ddab461e8_b.jpg",
			"http://www.atzmut.com/wp-content/uploads/2016/01/tree.jpg"
		];

		const getRandomInteger = (min, max) => Math.floor(min + Math.random() * (max + 1 - min));


		function firstButtonsHandler(e) {
			const chooseYourBlock = document.getElementById("chooseYourBlock");

			chooseYourBlock.innerHTML = "";
			result.innerHTML = "";

			const img = new Image(100, 100);
			
			switch (e.target.textContent) {
				case "House":
					img.src = houseImage;
					break;
				case "Tree":
					img.src = treeImage;
					break;
				case "Plane":
					img.src = planeImage;
			}

			const nextButton = document.createElement("button");
			nextButton.textContent = `Show random image of ${e.target.textContent}`;
			nextButton.style.display = "block";
			nextButton.dataset.type = e.target.textContent;
			nextButton.addEventListener("click", secondButtonsHandler)

			chooseYourBlock.appendChild(img);
			chooseYourBlock.appendChild(nextButton);
		}

		function secondButtonsHandler(e) {
			

			const img = new Image(100, 100);

			result.innerHTML = "";

			switch (e.target.dataset.type) {
				case "House":
					img.src = houseArray[getRandomInteger(0, houseArray.length - 1)];
					break;
				case "Tree":
					img.src = treeArray[getRandomInteger(0, treeArray.length - 1)]
					break;
				case "Plane":
					img.src = planeArray[getRandomInteger(0, planeArray.length - 1)]
					break;
			}

			result.appendChild(img);
		}

		firstButtons.forEach(btn => btn.addEventListener("click", firstButtonsHandler));
	</script>
</body>

</html>